import{e as s,j as m,m as u,oa as d}from"./chunk-H4KHRU26.js";var g=class a{constructor(t){this.storageService=t}mockAccounts=[{id:"1",name:"Checking Account",accountNumber:"****6789",balance:2450.75,currency:"\u20AC"},{id:"2",name:"Savings Account",accountNumber:"****1234",balance:8920.5,currency:"\u20AC"},{id:"3",name:"Investment Account",accountNumber:"****5678",balance:15300,currency:"\u20AC"}];mockTransactions=[{id:"1",accountId:"1",merchant:"Grocery Store",category:"Food",date:"2024-12-08",amount:-87.5},{id:"2",accountId:"1",merchant:"Electric Company",category:"Bills",date:"2024-12-07",amount:-120},{id:"3",accountId:"1",merchant:"Salary Deposit",category:"Income",date:"2024-12-05",amount:3200},{id:"4",accountId:"1",merchant:"Coffee Shop",category:"Food",date:"2024-12-04",amount:-5.5},{id:"5",accountId:"1",merchant:"Online Shopping",category:"Shopping",date:"2024-12-03",amount:-156.3},{id:"6",accountId:"1",merchant:"Gas Station",category:"Transport",date:"2024-12-02",amount:-45},{id:"7",accountId:"1",merchant:"Restaurant",category:"Food",date:"2024-12-01",amount:-68.9},{id:"8",accountId:"1",merchant:"Gym Membership",category:"Health",date:"2024-11-30",amount:-50},{id:"9",accountId:"1",merchant:"Pharmacy",category:"Health",date:"2024-11-29",amount:-23.45},{id:"10",accountId:"1",merchant:"Bookstore",category:"Shopping",date:"2024-11-28",amount:-42},{id:"11",accountId:"1",merchant:"Cinema",category:"Entertainment",date:"2024-11-27",amount:-28},{id:"12",accountId:"1",merchant:"Freelance Payment",category:"Income",date:"2024-11-26",amount:500},{id:"13",accountId:"2",merchant:"Interest Payment",category:"Income",date:"2024-12-01",amount:12.5},{id:"14",accountId:"2",merchant:"Transfer from Checking",category:"Transfer",date:"2024-11-15",amount:1e3},{id:"15",accountId:"3",merchant:"Stock Dividend",category:"Income",date:"2024-12-06",amount:234.5},{id:"16",accountId:"3",merchant:"Investment Purchase",category:"Investment",date:"2024-11-20",amount:-5e3}];getAccounts(){let t=this.storageService.getAccounts();return(!t||t.length===0)&&(console.log("Using mock accounts"),t=[...this.mockAccounts],this.storageService.setAccounts(t)),s(t)}getAccountById(t){return(this.storageService.getAccounts()||this.mockAccounts).find(c=>c.id===t)}getTransactions(t){let e=this.storageService.getTransactions();return e||(e=this.mockTransactions,this.storageService.setTransactions(e)),t?e.filter(c=>c.accountId===t):e}transfer(t,e,c,y){let o=this.storageService.getAccounts()||this.mockAccounts,n=o.find(i=>i.id===t),r=o.find(i=>i.id===e);if(!n||!r||n.balance<c)return!1;n.balance-=c,r.balance+=c,this.storageService.setAccounts(o);let h=this.storageService.getTransactions()||this.mockTransactions,f=[{id:"tx-"+Date.now()+"-1",accountId:t,merchant:`Transfer to ${r.name}`,category:"Transfer",date:new Date().toISOString().split("T")[0],amount:-c},{id:"tx-"+Date.now()+"-2",accountId:e,merchant:`Transfer from ${n.name}`,category:"Transfer",date:new Date().toISOString().split("T")[0],amount:c}];return this.storageService.setTransactions([...f,...h]),!0}static \u0275fac=function(e){return new(e||a)(u(d))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};export{g as a};
